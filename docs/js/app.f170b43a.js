(function(e){function r(r){for(var o,c,i=r[0],d=r[1],l=r[2],u=0,h=[];u<i.length;u++)c=i[u],Object.prototype.hasOwnProperty.call(n,c)&&n[c]&&h.push(n[c][0]),n[c]=0;for(o in d)Object.prototype.hasOwnProperty.call(d,o)&&(e[o]=d[o]);s&&s(r);while(h.length)h.shift()();return a.push.apply(a,l||[]),t()}function t(){for(var e,r=0;r<a.length;r++){for(var t=a[r],o=!0,i=1;i<t.length;i++){var d=t[i];0!==n[d]&&(o=!1)}o&&(a.splice(r--,1),e=c(c.s=t[0]))}return e}var o={},n={app:0},a=[];function c(r){if(o[r])return o[r].exports;var t=o[r]={i:r,l:!1,exports:{}};return e[r].call(t.exports,t,t.exports,c),t.l=!0,t.exports}c.m=e,c.c=o,c.d=function(e,r,t){c.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:t})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,r){if(1&r&&(e=c(e)),8&r)return e;if(4&r&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(c.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)c.d(t,o,function(r){return e[r]}.bind(null,o));return t},c.n=function(e){var r=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(r,"a",r),r},c.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},c.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],d=i.push.bind(i);i.push=r,i=i.slice();for(var l=0;l<i.length;l++)r(i[l]);var s=d;a.push([0,"chunk-vendors"]),t()})({0:function(e,r,t){e.exports=t("56d7")},"56d7":function(e,r,t){"use strict";t.r(r);var o=t("2b0e"),n=function(){var e=this,r=e._self._c;return r("div",{attrs:{id:"app"}},[r("HelloWorld",{attrs:{msg:"Welcome to Your Vue.js App"}})],1)},a=[],c=function(){var e=this,r=e._self._c;return r("div",{staticClass:"BaseRecorder"},[r("div",{staticClass:"BaseRecorder-record"},[r("el-button",{on:{click:function(r){return e.startRecorder()}}},[e._v("开始录音")]),r("el-button",{on:{click:function(r){return e.resumeRecorder()}}},[e._v("继续录音")]),r("el-button",{on:{click:function(r){return e.pauseRecorder()}}},[e._v("暂停录音")]),r("el-button",{on:{click:function(r){return e.stopRecorder()}}},[e._v("结束录音")])],1),r("div",{staticClass:"BaseRecorder-play"},[r("el-button",{on:{click:function(r){return e.playRecorder()}}},[e._v("录音播放")]),r("el-button",{on:{click:function(r){return e.pausePlayRecorder()}}},[e._v("暂停录音播放")]),r("el-button",{on:{click:function(r){return e.resumePlayRecorder()}}},[e._v("恢复录音播放")]),r("el-button",{on:{click:function(r){return e.stopPlayRecorder()}}},[e._v("停止录音播放")])],1),r("div",{staticClass:"BaseRecorder-download"},[r("el-button",{on:{click:function(r){return e.downPCM()}}},[e._v("下载PCM")]),r("el-button",{on:{click:function(r){return e.downWAV()}}},[e._v("下载WAV")])],1),r("div",{staticClass:"BaseRecorder-destroy"},[r("el-button",{attrs:{type:"error"},on:{click:function(r){return e.destroyRecorder()}}},[e._v("销毁录音")])],1),r("div",{staticClass:"BaseRecorder-wave"},[r("canvas",{ref:"record"}),r("canvas",{ref:"play"})])])},i=[],d=t("da43"),l=t.n(d),s={name:"home",data(){return{recorder:null,drawRecordId:null,drawPlayId:null}},mounted(){this.init()},methods:{init(){this.recorder=new l.a({sampleBits:16,sampleRate:48e3,numChannels:1,compiling:!1})},startRecorder(){this.recorder.start().then(()=>{this.drawRecord()},e=>{console.log(`${e.name} : ${e.message}`)})},resumeRecorder(){this.recorder.resume()},pauseRecorder(){this.recorder.pause(),this.drawRecordId&&cancelAnimationFrame(this.drawRecordId),this.drawRecordId=null},stopRecorder(){this.recorder.stop(),this.drawRecordId&&cancelAnimationFrame(this.drawRecordId),this.drawRecordId=null},playRecorder(){this.recorder.play(),this.drawPlay()},pausePlayRecorder(){this.recorder.pausePlay()},resumePlayRecorder(){this.recorder.resumePlay(),this.drawPlay()},stopPlayRecorder(){this.recorder.stopPlay()},destroyRecorder(){this.recorder.destroy().then((function(){this.drawRecordId&&cancelAnimationFrame(this.drawRecordId),this.drawRecordId=null,this.drawPlayId&&cancelAnimationFrame(this.drawPlayId),this.drawPlayId=null,this.recorder=null}))},downPCM(){this.recorder.downloadPCM("新文件")},downWAV(){this.recorder.downloadWAV("新文件")},drawRecord(){this.drawRecordId=requestAnimationFrame(this.drawRecord),this.drawWave({canvas:this.$refs.record,dataArray:this.recorder.getRecordAnalyseData(),bgcolor:"rgb(255, 128, 200)",lineWidth:1,lineColor:"rgb(0, 128, 255)"})},drawPlay(){this.drawPlayId=requestAnimationFrame(this.drawPlay),this.drawWave({canvas:this.$refs.play,dataArray:this.recorder.getPlayAnalyseData()})},drawWave({canvas:e,dataArray:r,bgcolor:t="rgb(200, 200, 200)",lineWidth:o=2,lineColor:n="rgb(0, 0, 0)"}){if(!e)return;const a=e.getContext("2d"),c=r.length,i=e.width/c;let d=0;a.fillStyle=t,a.fillRect(0,0,e.width,e.height),a.lineWidth=o,a.strokeStyle=n,a.beginPath();for(let l=0;l<c;l++){const t=r[l]/128,o=t*e.height/2;0===l?a.moveTo(d,o):a.lineTo(d,o),d+=i}a.lineTo(e.width,e.height/2),a.stroke()}}},u=s,h=(t("62f1"),t("2877")),f=Object(h["a"])(u,c,i,!1,null,"4fe3121b",null),p=f.exports,y={name:"App",components:{HelloWorld:p}},w=y,v=(t("670b"),Object(h["a"])(w,n,a,!1,null,null,null)),b=v.exports,R=t("5c96"),m=t.n(R);t("0fae");o["default"].config.productionTip=!1,o["default"].use(m.a),new o["default"]({render:e=>e(b)}).$mount("#app")},"62f1":function(e,r,t){"use strict";t("ab4c")},"670b":function(e,r,t){"use strict";t("bfe4")},ab4c:function(e,r,t){},bfe4:function(e,r,t){}});
//# sourceMappingURL=app.f170b43a.js.map